<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>taoensso.timbre documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Timbre 3.1.6 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="taoensso.timbre.html"><span>taoensso.timbre</span></a></li><li><a href="taoensso.timbre.appenders.carmine.html"><span>taoensso.timbre.appenders.carmine</span></a></li><li><a href="taoensso.timbre.appenders.postal.html"><span>taoensso.timbre.appenders.postal</span></a></li><li><a href="taoensso.timbre.appenders.rolling.html"><span>taoensso.timbre.appenders.rolling</span></a></li><li><a href="taoensso.timbre.appenders.rotor.html"><span>taoensso.timbre.appenders.rotor</span></a></li><li><a href="taoensso.timbre.profiling.html"><span>taoensso.timbre.profiling</span></a></li><li><a href="taoensso.timbre.tools.logging.html"><span>taoensso.timbre.tools.logging</span></a></li><li><a href="taoensso.timbre.utils.html"><span>taoensso.timbre.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="taoensso.timbre.html#var-*level-dynamic*"><span>*level-dynamic*</span></a></li><li><a href="taoensso.timbre.html#var-color-str"><span>color-str</span></a></li><li><a href="taoensso.timbre.html#var-compile-config"><span>compile-config</span></a></li><li><a href="taoensso.timbre.html#var-config"><span>config</span></a></li><li><a href="taoensso.timbre.html#var-debug"><span>debug</span></a></li><li><a href="taoensso.timbre.html#var-debugf"><span>debugf</span></a></li><li><a href="taoensso.timbre.html#var-default-args-hash-fn"><span>default-args-hash-fn</span></a></li><li><a href="taoensso.timbre.html#var-default-err"><span>default-err</span></a></li><li><a href="taoensso.timbre.html#var-default-fmt-output-fn"><span>default-fmt-output-fn</span></a></li><li><a href="taoensso.timbre.html#var-default-out"><span>default-out</span></a></li><li><a href="taoensso.timbre.html#var-error"><span>error</span></a></li><li><a href="taoensso.timbre.html#var-errorf"><span>errorf</span></a></li><li><a href="taoensso.timbre.html#var-example-config"><span>example-config</span></a></li><li><a href="taoensso.timbre.html#var-fatal"><span>fatal</span></a></li><li><a href="taoensso.timbre.html#var-fatalf"><span>fatalf</span></a></li><li><a href="taoensso.timbre.html#var-green"><span>green</span></a></li><li><a href="taoensso.timbre.html#var-info"><span>info</span></a></li><li><a href="taoensso.timbre.html#var-infof"><span>infof</span></a></li><li><a href="taoensso.timbre.html#var-level-atom"><span>level-atom</span></a></li><li><a href="taoensso.timbre.html#var-level-compile-time"><span>level-compile-time</span></a></li><li><a href="taoensso.timbre.html#var-level-sufficient%3F"><span>level-sufficient?</span></a></li><li><a href="taoensso.timbre.html#var-levels-ordered"><span>levels-ordered</span></a></li><li><a href="taoensso.timbre.html#var-levels-scored"><span>levels-scored</span></a></li><li><a href="taoensso.timbre.html#var-log"><span>log</span></a></li><li><a href="taoensso.timbre.html#var-log*"><span>log*</span></a></li><li><a href="taoensso.timbre.html#var-log-and-rethrow-errors"><span>log-and-rethrow-errors</span></a></li><li><a href="taoensso.timbre.html#var-log-errors"><span>log-errors</span></a></li><li><a href="taoensso.timbre.html#var-logf"><span>logf</span></a></li><li><a href="taoensso.timbre.html#var-logged-future"><span>logged-future</span></a></li><li><a href="taoensso.timbre.html#var-logging-enabled%3F"><span>logging-enabled?</span></a></li><li><a href="taoensso.timbre.html#var-logp"><span>logp</span></a></li><li><a href="taoensso.timbre.html#var-merge-config%21"><span>merge-config!</span></a></li><li><a href="taoensso.timbre.html#var-ns-unfiltered%3F"><span>ns-unfiltered?</span></a></li><li><a href="taoensso.timbre.html#var-red"><span>red</span></a></li><li><a href="taoensso.timbre.html#var-refer-timbre"><span>refer-timbre</span></a></li><li><a href="taoensso.timbre.html#var-report"><span>report</span></a></li><li><a href="taoensso.timbre.html#var-reportf"><span>reportf</span></a></li><li><a href="taoensso.timbre.html#var-s"><span>s</span></a></li><li><a href="taoensso.timbre.html#var-send-to-appenders%21"><span>send-to-appenders!</span></a></li><li><a href="taoensso.timbre.html#var-set-config%21"><span>set-config!</span></a></li><li><a href="taoensso.timbre.html#var-set-level%21"><span>set-level!</span></a></li><li><a href="taoensso.timbre.html#var-sometimes"><span>sometimes</span></a></li><li><a href="taoensso.timbre.html#var-spy"><span>spy</span></a></li><li><a href="taoensso.timbre.html#var-stacktrace"><span>stacktrace</span></a></li><li><a href="taoensso.timbre.html#var-str-println"><span>str-println</span></a></li><li><a href="taoensso.timbre.html#var-trace"><span>trace</span></a></li><li><a href="taoensso.timbre.html#var-tracef"><span>tracef</span></a></li><li><a href="taoensso.timbre.html#var-warn"><span>warn</span></a></li><li><a href="taoensso.timbre.html#var-warnf"><span>warnf</span></a></li><li><a href="taoensso.timbre.html#var-with-default-outs"><span>with-default-outs</span></a></li><li><a href="taoensso.timbre.html#var-with-err-as-out"><span>with-err-as-out</span></a></li><li><a href="taoensso.timbre.html#var-with-log-level"><span>with-log-level</span></a></li><li><a href="taoensso.timbre.html#var-yellow"><span>yellow</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>taoensso.timbre documentation</h2><pre class="doc">Simple, flexible, all-Clojure logging. No XML!
</pre><div class="public" id="var-*level-dynamic*"><h3>*level-dynamic*</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-color-str"><h3>color-str</h3><div class="usage"><code>(color-str color &amp; xs)</code></div><pre class="doc"></pre></div><div class="public" id="var-compile-config"><h3>compile-config</h3><div class="usage"></div><pre class="doc">Implementation detail.
Returns {:appenders-juxt {&lt;level&gt; &lt;wrapped-juxt or nil&gt;}
         :ns-filter      (fn relevant-ns? [ns])}.</pre></div><div class="public" id="var-config"><h3>config</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-debug"><h3>debug</h3><h4 class="macro">macro</h4><div class="usage"><code>(debug &amp; message)</code><code>(debug throwable &amp; message)</code></div><pre class="doc">Logs at :debug level using print-style args.
</pre></div><div class="public" id="var-debugf"><h3>debugf</h3><h4 class="macro">macro</h4><div class="usage"><code>(debugf fmt &amp; fmt-args)</code><code>(debugf throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :debug level using format-style args.
</pre></div><div class="public" id="var-default-args-hash-fn"><h3>default-args-hash-fn</h3><div class="usage"><code>(default-args-hash-fn {:keys [hostname ns args], :as apfn-args})</code></div><pre class="doc">Alpha - subject to change!!
Returns a hash identifier for given appender arguments in such a way that
(= (hash args-A) (hash args-B)) iff arguments A and B are &quot;the same&quot; by
some reasonable-in-the-general-case definition for logging arguments.

Useful in the context of rate limiting, deduplicating appenders, etc.</pre></div><div class="public" id="var-default-err"><h3>default-err</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-default-fmt-output-fn"><h3>default-fmt-output-fn</h3><div class="usage"><code>(default-fmt-output-fn {:keys [level throwable message timestamp hostname ns]} &amp; [{:keys [nofonts?], :as appender-fmt-output-opts}])</code></div><pre class="doc"></pre></div><div class="public" id="var-default-out"><h3>default-out</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-error"><h3>error</h3><h4 class="macro">macro</h4><div class="usage"><code>(error &amp; message)</code><code>(error throwable &amp; message)</code></div><pre class="doc">Logs at :error level using print-style args.
</pre></div><div class="public" id="var-errorf"><h3>errorf</h3><h4 class="macro">macro</h4><div class="usage"><code>(errorf fmt &amp; fmt-args)</code><code>(errorf throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :error level using format-style args.
</pre></div><div class="public" id="var-example-config"><h3>example-config</h3><div class="usage"></div><pre class="doc">APPENDERS
   An appender is a map with keys:
    :doc             ; (Optional) string.
    :min-level       ; (Optional) keyword, or nil (no minimum level).
    :enabled?        ; (Optional).
    :async?          ; (Optional) dispatch using agent (good for slow appenders).
    :rate-limit      ; (Optional) [ncalls-limit window-ms].
    :fmt-output-opts ; (Optional) extra opts passed to `fmt-output-fn`.
    :fn              ; (fn [appender-args-map]), with keys described below.
    :args-hash-fn    ; Experimental. Used by rate-limiter, etc.

   An appender's fn takes a single map with keys:
    :level         ; Keyword.
    :error?        ; Is level an 'error' level?
    :throwable     ; java.lang.Throwable.
    :args          ; Raw logging macro args (as given to `info`, etc.).
    :message       ; Stringified logging macro args, or nil.
    :output        ; Output of `fmt-output-fn`, used by built-in appenders
                   ; as final, formatted appender output. Appenders may (but
                   ; are not obligated to) use this as their output.
    :ap-config     ; Content of config's :shared-appender-config key.
    :profile-stats ; From `profile` macro.
    :instant       ; java.util.Date.
    :timestamp     ; String generated from :timestamp-pattern, :timestamp-locale.
    :hostname      ; String.
    :ns            ; String.
    ;; Waiting on http://dev.clojure.org/jira/browse/CLJ-865:
    :file          ; String.
    :line          ; Integer.

 MIDDLEWARE
   Middleware are fns (applied right-to-left) that transform the map
   dispatched to appender fns. If any middleware returns nil, no dispatching
   will occur (i.e. the event will be filtered).

The `example-config` code contains further settings and details.
See also `set-config!`, `merge-config!`, `set-level!`.</pre></div><div class="public" id="var-fatal"><h3>fatal</h3><h4 class="macro">macro</h4><div class="usage"><code>(fatal &amp; message)</code><code>(fatal throwable &amp; message)</code></div><pre class="doc">Logs at :fatal level using print-style args.
</pre></div><div class="public" id="var-fatalf"><h3>fatalf</h3><h4 class="macro">macro</h4><div class="usage"><code>(fatalf fmt &amp; fmt-args)</code><code>(fatalf throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :fatal level using format-style args.
</pre></div><div class="public" id="var-green"><h3>green</h3><div class="usage"></div><pre class="doc">DEPRECATED: Use `color-str` instead.
</pre></div><div class="public" id="var-info"><h3>info</h3><h4 class="macro">macro</h4><div class="usage"><code>(info &amp; message)</code><code>(info throwable &amp; message)</code></div><pre class="doc">Logs at :info level using print-style args.
</pre></div><div class="public" id="var-infof"><h3>infof</h3><h4 class="macro">macro</h4><div class="usage"><code>(infof fmt &amp; fmt-args)</code><code>(infof throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :info level using format-style args.
</pre></div><div class="public" id="var-level-atom"><h3>level-atom</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-level-compile-time"><h3>level-compile-time</h3><div class="usage"></div><pre class="doc">Constant, compile-time logging level determined by the `TIMBRE_LOG_LEVEL`
environment variable. When set, overrules dynamically-configurable logging
level as a performance optimization.</pre></div><div class="public" id="var-level-sufficient%3F"><h3>level-sufficient?</h3><div class="usage"><code>(level-sufficient? level config)</code></div><pre class="doc">Precendence: compile-time &gt; dynamic &gt; config &gt; atom.
</pre></div><div class="public" id="var-levels-ordered"><h3>levels-ordered</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-levels-scored"><h3>levels-scored</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-log"><h3>log</h3><h4 class="macro">macro</h4><div class="usage"><code>(log level &amp; message)</code><code>(log level throwable &amp; message)</code><code>(log config level &amp; message)</code><code>(log config level throwable &amp; message)</code></div><pre class="doc">Logs using print-style args. Takes optional logging config (defaults to
`timbre/@config`.)</pre></div><div class="public" id="var-log*"><h3>log*</h3><h4 class="macro">macro</h4><div class="usage"><code>(log* base-appender-args msg-type level &amp; log-args)</code><code>(log* base-appender-args msg-type config level &amp; log-args)</code></div><pre class="doc">Implementation detail.
</pre></div><div class="public" id="var-log-and-rethrow-errors"><h3>log-and-rethrow-errors</h3><h4 class="macro">macro</h4><div class="usage"><code>(log-and-rethrow-errors &amp; body)</code></div><pre class="doc"></pre></div><div class="public" id="var-log-errors"><h3>log-errors</h3><h4 class="macro">macro</h4><div class="usage"><code>(log-errors &amp; body)</code></div><pre class="doc"></pre></div><div class="public" id="var-logf"><h3>logf</h3><h4 class="macro">macro</h4><div class="usage"><code>(logf level fmt &amp; fmt-args)</code><code>(logf level throwable fmt &amp; fmt-args)</code><code>(logf config level fmt &amp; fmt-args)</code><code>(logf config level throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs using format-style args. Takes optional logging config (defaults to
`timbre/@config`.)</pre></div><div class="public" id="var-logged-future"><h3>logged-future</h3><h4 class="macro">macro</h4><div class="usage"><code>(logged-future &amp; body)</code></div><pre class="doc"></pre></div><div class="public" id="var-logging-enabled%3F"><h3>logging-enabled?</h3><div class="usage"><code>(logging-enabled? level &amp; [compile-time-ns])</code></div><pre class="doc">For 3rd-party utils, etc.
</pre></div><div class="public" id="var-logp"><h3>logp</h3><h4 class="macro">macro</h4><div class="usage"><code>(logp level &amp; message)</code><code>(logp level throwable &amp; message)</code></div><pre class="doc">DEPRECATED: Use `log` instead.
</pre></div><div class="public" id="var-merge-config%21"><h3>merge-config!</h3><div class="usage"><code>(merge-config! &amp; maps)</code></div><pre class="doc"></pre></div><div class="public" id="var-ns-unfiltered%3F"><h3>ns-unfiltered?</h3><div class="usage"><code>(ns-unfiltered? config ns)</code></div><pre class="doc"></pre></div><div class="public" id="var-red"><h3>red</h3><div class="usage"></div><pre class="doc">DEPRECATED: Use `color-str` instead.
</pre></div><div class="public" id="var-refer-timbre"><h3>refer-timbre</h3><div class="usage"><code>(refer-timbre)</code></div><pre class="doc">Shorthand for:
(require
  '[taoensso.timbre :as timbre
    :refer (log  trace  debug  info  warn  error  fatal  report
            logf tracef debugf infof warnf errorf fatalf reportf
            spy logged-future with-log-level sometimes)])
(require
  '[taoensso.timbre.profiling :as profiling
    :refer (pspy pspy* profile defnp p p*)])</pre></div><div class="public" id="var-report"><h3>report</h3><h4 class="macro">macro</h4><div class="usage"><code>(report &amp; message)</code><code>(report throwable &amp; message)</code></div><pre class="doc">Logs at :report level using print-style args.
</pre></div><div class="public" id="var-reportf"><h3>reportf</h3><h4 class="macro">macro</h4><div class="usage"><code>(reportf fmt &amp; fmt-args)</code><code>(reportf throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :report level using format-style args.
</pre></div><div class="public" id="var-s"><h3>s</h3><h4 class="macro">macro</h4><div class="usage"><code>(s expr)</code><code>(s level expr)</code><code>(s level name expr)</code></div><pre class="doc">DEPRECATED: Use `spy` instead.
</pre></div><div class="public" id="var-send-to-appenders%21"><h3>send-to-appenders!</h3><div class="usage"><code>(send-to-appenders! level base-appender-args log-vargs ns throwable message &amp; [juxt-fn msg-type file line])</code></div><pre class="doc">Implementation detail.
</pre></div><div class="public" id="var-set-config%21"><h3>set-config!</h3><div class="usage"><code>(set-config! ks val)</code></div><pre class="doc"></pre></div><div class="public" id="var-set-level%21"><h3>set-level!</h3><div class="usage"><code>(set-level! level)</code></div><pre class="doc"></pre></div><div class="public" id="var-sometimes"><h3>sometimes</h3><h4 class="macro">macro</h4><div class="usage"><code>(sometimes probability &amp; body)</code></div><pre class="doc">Executes body with probability e/o [0,1]. Useful for sampled logging.
</pre></div><div class="public" id="var-spy"><h3>spy</h3><h4 class="macro">macro</h4><div class="usage"><code>(spy expr)</code><code>(spy level expr)</code><code>(spy level name expr)</code></div><pre class="doc">Evaluates named expression and logs its result. Always returns the result.
Defaults to :debug logging level and unevaluated expression as name.</pre></div><div class="public" id="var-stacktrace"><h3>stacktrace</h3><div class="usage"><code>(stacktrace throwable &amp; [separator stacktrace-fonts])</code></div><pre class="doc">Default stacktrace formatter for use by appenders, etc.
</pre></div><div class="public" id="var-str-println"><h3>str-println</h3><div class="usage"><code>(str-println &amp; xs)</code></div><pre class="doc">Like `println` but prints all objects to output stream as a single
atomic string. This is faster and avoids interleaving race conditions.</pre></div><div class="public" id="var-trace"><h3>trace</h3><h4 class="macro">macro</h4><div class="usage"><code>(trace &amp; message)</code><code>(trace throwable &amp; message)</code></div><pre class="doc">Logs at :trace level using print-style args.
</pre></div><div class="public" id="var-tracef"><h3>tracef</h3><h4 class="macro">macro</h4><div class="usage"><code>(tracef fmt &amp; fmt-args)</code><code>(tracef throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :trace level using format-style args.
</pre></div><div class="public" id="var-warn"><h3>warn</h3><h4 class="macro">macro</h4><div class="usage"><code>(warn &amp; message)</code><code>(warn throwable &amp; message)</code></div><pre class="doc">Logs at :warn level using print-style args.
</pre></div><div class="public" id="var-warnf"><h3>warnf</h3><h4 class="macro">macro</h4><div class="usage"><code>(warnf fmt &amp; fmt-args)</code><code>(warnf throwable fmt &amp; fmt-args)</code></div><pre class="doc">Logs at :warn level using format-style args.
</pre></div><div class="public" id="var-with-default-outs"><h3>with-default-outs</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-default-outs &amp; body)</code></div><pre class="doc">Evaluates body with Clojure's default *out* and *err* bindings.
</pre></div><div class="public" id="var-with-err-as-out"><h3>with-err-as-out</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-err-as-out &amp; body)</code></div><pre class="doc">Evaluates body with *err* bound to *out*.
</pre></div><div class="public" id="var-with-log-level"><h3>with-log-level</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-log-level level &amp; body)</code></div><pre class="doc">Allows thread-local config logging level override. Useful for dev &amp; testing.
</pre></div><div class="public" id="var-yellow"><h3>yellow</h3><div class="usage"></div><pre class="doc">DEPRECATED: Use `color-str` instead.
</pre></div></div></body></html>