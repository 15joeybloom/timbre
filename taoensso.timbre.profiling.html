<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>taoensso.timbre.profiling documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Timbre 3.1.6 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="taoensso.timbre.html"><span>taoensso.timbre</span></a></li><li><a href="taoensso.timbre.appenders.carmine.html"><span>taoensso.timbre.appenders.carmine</span></a></li><li><a href="taoensso.timbre.appenders.postal.html"><span>taoensso.timbre.appenders.postal</span></a></li><li><a href="taoensso.timbre.appenders.rolling.html"><span>taoensso.timbre.appenders.rolling</span></a></li><li><a href="taoensso.timbre.appenders.rotor.html"><span>taoensso.timbre.appenders.rotor</span></a></li><li class="current"><a href="taoensso.timbre.profiling.html"><span>taoensso.timbre.profiling</span></a></li><li><a href="taoensso.timbre.tools.logging.html"><span>taoensso.timbre.tools.logging</span></a></li><li><a href="taoensso.timbre.utils.html"><span>taoensso.timbre.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="taoensso.timbre.profiling.html#var-*pdata*"><span>*pdata*</span></a></li><li><a href="taoensso.timbre.profiling.html#var-defnp"><span>defnp</span></a></li><li><a href="taoensso.timbre.profiling.html#var-format-pdata"><span>format-pdata</span></a></li><li><a href="taoensso.timbre.profiling.html#var-fq-keyword"><span>fq-keyword</span></a></li><li><a href="taoensso.timbre.profiling.html#var-p"><span>p</span></a></li><li><a href="taoensso.timbre.profiling.html#var-p*"><span>p*</span></a></li><li><a href="taoensso.timbre.profiling.html#var-pdata-stats"><span>pdata-stats</span></a></li><li><a href="taoensso.timbre.profiling.html#var-profile"><span>profile</span></a></li><li><a href="taoensso.timbre.profiling.html#var-pspy"><span>pspy</span></a></li><li><a href="taoensso.timbre.profiling.html#var-pspy*"><span>pspy*</span></a></li><li><a href="taoensso.timbre.profiling.html#var-sampling-profile"><span>sampling-profile</span></a></li><li><a href="taoensso.timbre.profiling.html#var-with-pdata"><span>with-pdata</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>taoensso.timbre.profiling documentation</h2><pre class="doc">Logging profiler for Timbre, adapted from clojure.contrib.profile.
</pre><div class="public" id="var-*pdata*"><h3>*pdata*</h3><div class="usage"></div><pre class="doc">{::pid [time1 time2 ...]}
</pre></div><div class="public" id="var-defnp"><h3>defnp</h3><h4 class="macro">macro</h4><div class="usage"><code>(defnp name ?doc-string ?attr-map [params] ?prepost-map body)</code></div><pre class="doc">Like `defn` but wraps body in `p` macro.
</pre></div><div class="public" id="var-format-pdata"><h3>format-pdata</h3><div class="usage"><code>(format-pdata stats &amp; [sort-field])</code></div><pre class="doc"></pre></div><div class="public" id="var-fq-keyword"><h3>fq-keyword</h3><h4 class="macro">macro</h4><div class="usage"><code>(fq-keyword id)</code></div><pre class="doc">Returns namespaced keyword for given id.
</pre></div><div class="public" id="var-p"><h3>p</h3><h4 class="macro">macro</h4><div class="usage"><code>(p id &amp; body)</code></div><pre class="doc"></pre></div><div class="public" id="var-p*"><h3>p*</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-pdata-stats"><h3>pdata-stats</h3><div class="usage"><code>(pdata-stats pdata)</code></div><pre class="doc">{::pid [time1 time2 ...] ...} =&gt; {::pid {:min &lt;min-time&gt; ...} ...}
For performance, stats are calculated once only after all data have been
collected.</pre></div><div class="public" id="var-profile"><h3>profile</h3><h4 class="macro">macro</h4><div class="usage"><code>(profile level id &amp; body)</code></div><pre class="doc">When logging is enabled, executes named body with profiling enabled. Body
forms wrapped in (pspy) will be timed and time stats logged. Always returns
body's result.

Note that logging appenders will receive both a formatted profiling string AND
the raw profiling stats under a special :profiling-stats key (useful for
queryable db logging).</pre></div><div class="public" id="var-pspy"><h3>pspy</h3><h4 class="macro">macro</h4><div class="usage"><code>(pspy id &amp; body)</code></div><pre class="doc">Profile spy. When in the context of a *pdata* binding, records execution time
of named body. Always returns the body's result.</pre></div><div class="public" id="var-pspy*"><h3>pspy*</h3><div class="usage"><code>(pspy* id f)</code></div><pre class="doc"></pre></div><div class="public" id="var-sampling-profile"><h3>sampling-profile</h3><h4 class="macro">macro</h4><div class="usage"><code>(sampling-profile level probability id &amp; body)</code></div><pre class="doc">Like `profile`, but only enables profiling with given probability.
</pre></div><div class="public" id="var-with-pdata"><h3>with-pdata</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-pdata level &amp; body)</code></div><pre class="doc"></pre></div></div></body></html>